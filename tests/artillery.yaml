# Sample load test. $ artillery run artillery.yaml
config:
  target: "http://localhost:19090"
  socketio:
    path: "/"
    transports: ["websocket", "polling"]
    query:
      wpid: "1"
      snid: "n9O50YByIXK2JRBErO1IZQMzDlVc82EQ0K2AuJ1tEvw"
      apid: "93c92d1222223a92de556ca2db02b6c4"
  phases:
    - duration: 60
      arrivalRate: 10
scenarios:
  - name: "Name Here!"
    weight: 10
    engine: "socketio"
    flow:
      - get:
          url: "/"
      - emit:
          channel: "connected"
          data: "user-{{ $randomString() }}"
      - loop:
          - emit:
              channel: "public"
              data: "The message is {{ $randomString() }}!"
          - think: 1
        count: 2
      - think: 1
      